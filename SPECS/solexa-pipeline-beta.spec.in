#$Id: solexa-pipeline-beta.spec.in,v 1.5 2008/10/14 19:49:34 bpbuild Exp $
Summary: Solexa Pipeline (Beta Version)
Name: solexa-pipeline-beta
Version: 1.1rc1p4
Epoch: 0
Release: %{revision}.%{distro}
Source0: GAPipeline-%{version}.tar.gz
License: Solexa Public Source License
Group: Bioinformatics
Packager: Brian O'Connor <boconnor@ucla.edu>
URL: http://www.solexa.com/
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
Requires: perl, perl-XML-Simple, python, make, gnuplot, ImageMagick, ghostscript, libtiff, fftw3, zlib-devel, ncurses-devel
BuildRequires: biopackages, gcc-c++, fftw3, fftw3-devel, libtiff, libtiff-devel, bzip2-devel
BuildRequires: perl, perl-XML-Simple, python, make, gnuplot, ImageMagick, ghostscript, libtiff, fftw3, zlib-devel, ncurses-devel

%description
This module contains the source code for the Solexa data analysis
pipeline. All software in this module is copyrighted by Solexa Ltd. as
(C) Solexa 2006, and licensed under the conditions laid out in the
agreement that you signed. Any source code files or ancillary files
containing this copyright notice are deemed to be covered by the
'Solexa Public Source License', as stipulated within that license
agreement and are bound by the terms therein.

The documentation (in html form) can be found in the directory docs/.
A good place to start is the introduction in "Pipeline
documentation.html".  The installation is described in "Pipeline
documentation.html". A quick-start guide is given by "Pipeline usage".

%prep
#rm -rf ${RPM_BUILD_ROOT}
%setup -q -n GAPipeline-%{version}
mkdir -p ${RPM_BUILD_ROOT}/%{_bindir} ${RPM_BUILD_ROOT}/%{_defaultdocdir}/solexa-pipeline ${RPM_BUILD_ROOT}/usr/lib/perl5/site_perl/5.8.5 ${RPM_BUILD_ROOT}/usr/lib/python2.3

%build
make

%install
%makeinstall
cp -R bin/* ${RPM_BUILD_ROOT}/%{_bindir}
cp -R docs/* ${RPM_BUILD_ROOT}/%{_defaultdocdir}/solexa-pipeline
cp -R lib/perl/* ${RPM_BUILD_ROOT}/usr/lib/perl5/site_perl/5.8.5
cp -R lib/python/* ${RPM_BUILD_ROOT}/usr/lib/python2.3


#Cleanup source code
find %{buildroot} | grep -P '\.cpp$|\.o$|\.h$|\.d$|\.c$' | xargs rm

#Generate file list
find %{buildroot} -type f -o -type l | sed "s@^%{buildroot}@@g" > %{name}-%{version}-%{release}-filelist
find %{buildroot} -type f -o -type l | sed "s@^%{buildroot}@@g" > /tmp/%{name}-%{version}-%{release}-filelist

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,solexa,solexa)

%clean
#[ "${RPM_BUILD_ROOT}" != "/" ] && [ -d ${RPM_BUILD_ROOT} ] && rm -rf ${RPM_BUILD_ROOT};

%post 

%preun 

$Log: solexa-pipeline-beta.spec.in,v $
Revision 1.5  2008/10/14 19:49:34  bpbuild
moving files to proper location

Revision 1.4  2008/10/14 18:59:31  bpbuild
1.1 requires ncurses-devel

Revision 1.3  2008/10/14 18:34:02  bpbuild
requires zlib-devel

Revision 1.2  2008/10/14 18:23:37  bpbuild
fixed header

Revision 1.1  2008/10/14 18:18:19  bpbuild
new versions of pipeline

