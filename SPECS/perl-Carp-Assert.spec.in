#$Id: perl-Carp-Assert.spec.in,v 1.1 2006/05/04 06:54:06 allenday Exp $
%define _unpackaged_files_terminate_build 0
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-Carp-Assert
Version: 0.18
Release: %{revision}.%{distro}
Packager: allenday@jugular.ctrl.ucla.edu
License: GPL or Artistic
Group: Development/Libraries
Epoch: 0
URL: http://search.cpan.org/dist/Carp-Assert/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages

Source0: Carp-Assert-0.18.tar.gz

%description
NAME
    Carp::Assert - executable comments

SYNOPSIS
        # Assertions are on.
        use Carp::Assert;

        $next_sunrise_time = sunrise();

        # Assert that the sun must rise in the next 24 hours.
        assert(($next_sunrise_time - time) < 24*60*60) if DEBUG;

        # Assertions are off.
        no Carp::Assert;

        $next_pres = divine_next_president();

        # Assert that if you predict Dan Quayle will be the next president
        # your crystal ball might need some polishing.  However, since
        # assertions are off, IT COULD HAPPEN!
        shouldnt($next_pres, 'Dan Quayle') if DEBUG;

DESCRIPTION
        "We are ready for any unforseen event that may or may not 
        occur."
            - Dan Quayle

    Carp::Assert is intended for a purpose like the ANSI C library assert.h.
    If you're already familiar with assert.h, then you can probably skip
    this and go straight to the FUNCTIONS section.

    Assertions are the explict expressions of your assumptions about the
    reality your program is expected to deal with, and a declaration of
    those which it is not. They are used to prevent your program from
    blissfully processing garbage inputs (garbage in, garbage out becomes
    garbage in, error out) and to tell you when you've produced garbage
    output. (If I was going to be a cynic about Perl and the user nature,
    I'd say there are no user inputs but garbage, and Perl produces nothing
    but...)

    An assertion is used to prevent the impossible from being asked of your
    code, or at least tell you when it does. For example:

        # Take the square root of a number.
        sub my_sqrt {
            my($num) = shift;

            # the square root of a negative number is imaginary.
            assert($num >= 0);

            return sqrt $num;
        }

    The assertion will warn you if a negative number was handed to your
    subroutine, a reality the routine has no intention of dealing with.

AUTHOR
        Michael G Schwern <schwern@pobox.com>

WHAT IS THIS?

This is Carp::Assert, a perl module.  Please see the README that comes with
this distribution.

HOW DO I INSTALL IT?

To install this module, cd to the directory that contains this README
file and type the following:

   perl Makefile.PL
   make test
   make install

To install this module into a specific directory, do:
   perl Makefile.PL PREFIX=/name/of/the/directory
   ...the rest is the same...

Please also read the perlmodinstall man page, if available.

WHAT MODULES DO I NEED?

    Carp


%prep
%setup -q -n Carp-Assert-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"
make test

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x /usr/lib/rpm/brp-compress ] && /usr/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

#$Log: perl-Carp-Assert.spec.in,v $
#Revision 1.1  2006/05/04 06:54:06  allenday
#import
#
%changelog
* Wed May  3 2006 allenday@jugular.ctrl.ucla.edu - 0.18-%{revision}
- Specfile autogenerated.
