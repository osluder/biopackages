#$Id: perl-MLDBM.spec.in,v 1.2 2005/08/15 23:07:55 allenday Exp $
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-MLDBM
Version: 2.01
Release: %{revision}.%{distro}
Epoch: 1
Packager: allenday@ucla.edu
License: GPL or Artistic
Group: Development/Libraries
URL: http://search.cpan.org/dist/MLDBM/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages
Source0: MLDBM-2.01.tar.gz

%description
This is the README file for MLDBM, the Perl module that can 
be used to store multidimensional hash structures in tied hashes
(including DBM files).

This is version 2.00.  It requires:
   Perl Version 5.004 or later.
   The Data::Dumper package from CPAN, version 2.08 or later.

If you were able to install Data::Dumper with its XSUB extension, MLDBM
will perform significantly faster.

Optionally, you can also switch to other serializing packages such as
FreezeThaw and Storable.  Storable provides much greater speeds, and the
performance of FreezeThaw is comparable to Data::Dumper.  Support for
this was added by Raphael Manfredi.  Many thanks!

See the embedded documentation in the module for more details.

As always, feedback is very welcome.

 - Sarathy.
   gsar@umich.edu

----------------------------------------------------------------------
INSTALLATION

You must install the Data::Dumper package first.  Optionally, you
may want to install one or more of Storable and FreezeThaw as well.
(Storable-0.5@8 and FreezeThaw-0.3 have been tested, earlier versions
may not work.)

From the MLDBM source directory:

   perl Makefile.PL
   make test
   make install

is all that will be needed.

----------------------------------------------------------------------
CHANGES

    2.01  (07 July 2002)
	    Fixed t/*.t tests to work under perl 5.8.0 RC2
	    The core of MLDBM was working, the tests were fixed.
	    (courtesy of Josh Chamas)

    2.00  (10 May 1998)
            Added support for multiple serializing interfaces.
            (courtesy Raphael Manfredi
            <Raphael_Manfredi@grenoble.hp.com>)

            Split serializer wrappers into multiple files, and
            regularized the interface some.  Underlying TIEHASH
            object and serializer can now be set at runtime
            (with care).

            Miscellaneous pod tweaks.

    1.25  (7 December 1997)

            Add RemoveTaint flag.

            require 5.004.

            require Data::Dumper 2.08.



%prep
%setup -q -n MLDBM-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x /usr/lib/rpm/brp-compress ] && /usr/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

%changelog
* Fri Feb 11 2005 allenday@ - 2.01-1.1
- Specfile autogenerated.
