#$Id: perl-Pod-POM.spec.in,v 1.2 2006/07/15 01:55:22 boconnor Exp $
%define _unpackaged_files_terminate_build 0
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-Pod-POM
Version: 0.17
Release: %{revision}.%{distro}
Packager: allenday@jugular.ctrl.ucla.edu
License: GPL or Artistic
Group: Development/Libraries
Epoch: 0
URL: http://search.cpan.org/dist/Pod-POM/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages

Source0: Pod-POM-0.17.tar.gz

%description
NAME
    Pod::POM - POD Object Model
    
SYNOPSIS
	use Pod::POM;
    
	my $parser = Pod::POM->new(\%options);
    
	# parse from a text string
	my $pom = $parser->parse_text($text)
	    || die $parser->error();
    
	# parse from a file specified by name or filehandle
	my $pom = $parser->parse_text($file)
	    || die $parser->error();
    
	# parse from text or file 
	my $pom = $parser->parse($text_or_file)
	    || die $parser->error();
    
	# examine any warnings raised
	foreach my $warning ($parser->warnings()) {
	    warn $warning, "\n";
	}
    
	# print table of contents using each =head1 title
	foreach my $head1 ($pom->head1()) {
	    print $head1->title(), "\n";
	}
    
	# print each section
	foreach my $head1 ($pom->head1()) {
	    print $head1->title(), "\n";
	    print $head1->content();
	}
    
	# print the entire document as HTML
	use Pod::POM::View::HTML;
	print Pod::POM::View::HTML->print($pom);
    
	# create custom view
	package My::View;
	use base qw( Pod::POM::View::HTML );
    
	sub view_head1 {
	    my ($self, $item) = @_;
	    return "<h2>"
                 . $item->title->present($self)
                 . "</h2>\n\n"
	         . $item->content->present($self);
	}
	
	package main;
	print My::View->print($pom);
    
DESCRIPTION
    This module implements a parser to convert Pod documents into a simple
    object model form known hereafter as the Pod Object Model.	The object
    model is generated as a hierarchical tree of nodes, each of which
    represents a different element of the original document.  The tree can
    be walked manually and the nodes examined, printed or otherwise
    manipulated.  In addition, Pod::POM supports and provides view objects
    which can automatically traverse the tree, or section thereof, and
    generate an output representation in one form or another.

    See the Pod::POM documentation for further details.

PREREQUISITES

    The Pod::POM module requires Perl 5.005.

INSTALLATION

    The Pod::POM module can be downloaded from any CPAN site:

	http://www.cpan.org/modules/by-module/Pod/

    Installation is as per usual:

	$ tar zxf Pod-POM-0.15.tar.gz
        $ cd Pod-POM-0.15
        $ perl Makefile.PL
	$ make
	$ make test
	$ make install

AUTHOR
    Andy Wardley <abw@kfs.org>
    
VERSION
    This is version 0.15 of the Pod::POM module.
    
COPYRIGHT
    Copyright (C) 2000-2002 Andy Wardley.  All Rights Reserved.
    
    This module is free software; you can redistribute it and/or
    modify it under the same terms as Perl itself.
    
    


%prep
%setup -q -n Pod-POM-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"
make test

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x %{_usr}/lib/rpm/brp-compress ] && %{_usr}/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

#%changelog
#* Mon May  8 2006 allenday@jugular.ctrl.ucla.edu - 0.17-%{revision}
#- Specfile autogenerated.
$Log: perl-Pod-POM.spec.in,v $
Revision 1.2  2006/07/15 01:55:22  boconnor
I updated the hardcoded /usr directory in all the spec files.  This was to support MacOS which installs all RPMs into /usr/local.  It uses a RPM macro now to make it platform neutral.  I've also updated some other SPEC files to support MacOS, I've done my best to ensure any changes don't affect other platforms negatively

Revision 1.1  2006/05/08 09:23:44  allenday
import

