#$Id: perl-XML-RSS.spec.in,v 1.4 2006/09/25 20:34:39 jmendler Exp $
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-XML-RSS
Version: 1.05
Release: %{revision}.%{distro}
Packager: allenday@jugular.ctrl.ucla.edu
License: GPL or Artistic
Group: Development/Libraries
Epoch: 0
URL: http://search.cpan.org/dist/XML-RSS/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages, perl-Test-Manifest
Requires: perl-Test-Manifest

Source0: XML-RSS-1.05.tar.gz

%description
Copyright (c) 2001 Jonathan Eisenzopf and Rael Dornfest. All rights reserved.
Maintained by brian d foy

This package is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.

NAME
XML::RSS Version 0.98_01

DESCRIPTION
This module was created to help those who need to manage
RDF Site Summary (RSS) files. It makes quick work of
creating, updating, and saving RSS files.

XML::RSS currently supports 0.9, 0.91, and 1.0 versions of RSS.
See http://my.netscape.com/publish/help/mnn20/quickstart.html
for information on RSS 0.91. See http://my.netscape.com/publish/help/
for RSS 0.9 and http://purl.org/rss/1.0/.

Feel free to contact us at eisen@pobox.com or rael@oreilly.com
if you have problems and/or suggestions.

REQUIREMENTS
This module requires version 2.23 or greater of the XML::Parser module.
The latest version is available at any CPAN archive.

You may have problems if you're using Perl 5.004. If you do, you'll
need to get the latest version of XML::Parser.

INSTALLATION
perl Makefile.PL
make
make install

LIMITATIONS
-XML::RSS doesn't yet validate that the required elements exist before it
 generates the RSS file.
-Ignores the encoding defined in the XML declaration when using parse()
 or parsefile(). This is not intentional, I just haven't been able to
 get it to work yet.
-Same problem with the RSS version attribute as with encoding.
-The module no longer supports the rss0.91 namespace, which was included
 in the first RSS 1.0 specification to support extra 0.91 elements. If you 
 use this module with RSS 1.0 files that used XML::RSS version 0.9, you
 will lose those elements if you load the file and re-save it with 
 this module. This information is now included in the dublin core
 elements which is now supported natively in this module. This does
 not affect coversions from 0.91 to 1.0 formats. That conversion works
 fine.
 
TROUBLESHOOTING
-If you get an error when using the parse() or parsefile() methods, your
RSS file is probably not valid XML. You must be sure to encode all XML
default entities.



%prep
%setup -q -n XML-RSS-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"
make test

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x %{_usr}/lib/rpm/brp-compress ] && %{_usr}/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

%changelog
* Sat Oct 29 2005 allenday@jugular.ctrl.ucla.edu - 1.05-%{revision}
- Specfile autogenerated.
