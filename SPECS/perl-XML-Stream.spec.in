#$Id: perl-XML-Stream.spec.in,v 1.2 2006/07/15 01:55:23 boconnor Exp $
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-XML-Stream
Version: 1.22
Release: %{revision}.%{distro} 
Epoch: 1
Packager: allenday@ucla.edu
License: GPL or Artistic
Group: Development/Libraries
URL: http://search.cpan.org/dist/XML-Stream/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages
Source0: XML-Stream-1.22.tar.gz

%description
XML::Stream v1.22

This module provides you with access to XML Streams.  An XML Stream
is just that.  A stream of XML over a connection between two computers.
For more information about XML Streams, and the group that created them,
please visit:

http://etherx.jabber.org/streams

Ryan Eatmon
reatmon@jabber.org


INSTALLATION

  perl Makefile.PL
  make
  make install

REQUIREMENTS

  Perl 5.8.0            - For unicode support
  Authen::SASL          - For SASL Authentication
  MIME::Base64          - For SASL Authentication

RECOMMENDATIONS

  IO::Socket::SSL v0.81 - Module to enable TLS for XML::Stream.
  Net::DNS              - Enables access to SRV records.

STATUS

    Initial support added for XMPP 1.0.  This release may not be stable.  If
you run into problems, downgrade to 1.21.

Please send any bug reports to reatmon@jabber.org.
2004/08/22



%prep
%setup -q -n XML-Stream-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x %{_usr}/lib/rpm/brp-compress ] && %{_usr}/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

%changelog
* Tue Mar  1 2005 allenday@ - 1.22-1.1
- Specfile autogenerated.
