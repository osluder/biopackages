#$Id: perl-IPC-ShareLite.spec.in,v 1.2 2006/05/08 09:54:35 allenday Exp $
%define _unpackaged_files_terminate_build 0
Distribution: Custom
Vendor: biopackages.net
Summary: Unknown
Name: perl-IPC-ShareLite
Version: 0.09
Release: %{revision}.%{distro}
Packager: allenday@jugular.ctrl.ucla.edu
License: GPL or Artistic
Group: Development/Libraries
Epoch: 0
URL: http://search.cpan.org/dist/IPC-ShareLite/
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages

Source0: IPC-ShareLite-0.09.tar.gz

%description
DESCRIPTION

  IPC::ShareLite provides a simple interface to shared memory, allowing
  data to be efficiently communicated between processes.  Your operating
  system must support SysV IPC (shared memory and semaphores) in order to
  use this module.   
 
COPYRIGHT & TERMS

  Copyright 1998-2002, Maurice Aubrey <maurice@hevanet.com>. 
  All rights reserved.

  This module is free software; you may redistribute it and/or
  modify it under the same terms as Perl itself.

  THIS SOFTWARE IS PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
  EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DAMAGES RESULTING FROM
  THE USE OF THIS SOFTWARE.                      

PREREQUISITES

  This module requires perl 5.004 or later.

INSTALLATION

  To install this module, move into the directory where this file is
  located and type the following:

        perl Makefile.PL
        make
        make test
        make install

  This will install the module into the Perl library directory.  If 
  you lack sufficient privileges for this, then you can specify an
  alternate directory like this:

        perl Makefile.PL PREFIX=/where/I/want/it/put
        make
        make test
        make install

  See the POD documentation for further details.  Once the module
  is installed, you should be able to read the documentation by
  typing the following from the command-line:

	perldoc IPC::ShareLite


%prep
%setup -q -n IPC-ShareLite-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"
make test

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x /usr/lib/rpm/brp-compress ] && /usr/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

#%changelog
#* Mon May  8 2006 allenday@jugular.ctrl.ucla.edu - 0.09-%{revision}
#- Specfile autogenerated.
$Log: perl-IPC-ShareLite.spec.in,v $
Revision 1.2  2006/05/08 09:54:35  allenday
arch

Revision 1.1  2006/05/08 09:53:48  allenday
import

