#$Id: perl-Math-Spline.spec.in,v 1.3 2006/07/15 01:55:22 boconnor Exp $
Distribution: Custom
Vendor: Custom
Summary: Unknown
Name: perl-Math-Spline
Version: 0.01
Release: %{revision}.%{distro}
Epoch: 1
Packager: allenday@sumo.genetics.ucla.edu
License: GPL or Artistic
Group: Development/Libraries
URL: http://search.cpan.org/dist/Math-Spline/
BuildArch: noarch
BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
BuildRequires: perl, biopackages
Source0: Math-Spline-0.01.tar.gz

%description
Perl Module Math::Spline - 0.01

     Copyright (c) 1995 John A.R. Williams. All rights reserved.
     This program is free software; you can redistribute it and/or
     modify it under the same terms as Perl itself.

To install, unzip and untar the archive. In the directory created type

perl Makefile.pl
make install

Documentation is in the module file and will be added onto
perllocal.pod as usual.

The perl package Math::Derivative is required by this module.

I can be contacted at <Email: J.A.R.Williams@aston.ac.uk>

%prep
%setup -q -n Math-Spline-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" perl Makefile.PL PREFIX=$RPM_BUILD_ROOT%{_prefix}  < /dev/null
make OPTIMIZE="$RPM_OPT_FLAGS"

%install
rm -rf $RPM_BUILD_ROOT

eval `perl '-V:installarchlib'`
mkdir -p $RPM_BUILD_ROOT$installarchlib
%makeinstall

find $RPM_BUILD_ROOT -type f -a \( -name perllocal.pod -o -name .packlist \
  -o \( -name '*.bs' -a -empty \) \) -exec rm -f {} ';'
find $RPM_BUILD_ROOT -type d -depth -exec rmdir {} 2>/dev/null ';'
chmod -R u+w $RPM_BUILD_ROOT/*

[ -x %{_usr}/lib/rpm/brp-compress ] && %{_usr}/lib/rpm/brp-compress

find $RPM_BUILD_ROOT -type f \
| sed "s@^$RPM_BUILD_ROOT@@g" \
> %{name}-%{version}-%{release}-filelist

eval `perl -V:archname -V:installsitelib -V:installvendorlib -V:installprivlib`
for d in $installsitelib $installvendorlib $installprivlib; do
  [ -z "$d" -o "$d" = "UNKNOWN" -o ! -d "$RPM_BUILD_ROOT$d" ] && continue
  find $RPM_BUILD_ROOT$d/* -type d \
  | grep -v "/$archname\(/auto\)\?$" \
  | sed "s@^$RPM_BUILD_ROOT@%dir @g" \
  >> %{name}-%{version}-%{release}-filelist
done

if [ "$(cat %{name}-%{version}-%{release}-filelist)X" = "X" ] ; then
    echo "ERROR: EMPTY FILE LIST"
    exit 1
fi

%clean
rm -rf $RPM_BUILD_ROOT

%files -f %{name}-%{version}-%{release}-filelist
%defattr(-,root,root,-)

%changelog
* Wed Feb  2 2005 allenday@sumo.genetics.ucla.edu - 0.01-1.1
- Specfile autogenerated.
